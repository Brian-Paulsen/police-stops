install.packages('dplyr')
library(ggplot2)
library(dplyr)
install.packages('dplyr')
install.packages('dplyr')
library(R2WinBUGS)
remove.packages('R2WinBUGS')
bugs
library(R2OpenBUGS)
library(tidyverse)
incidents <- read.csv('../../data/processed/master-incidents.csv', stringsAsFactors = FALSE) %>%
mutate(Date = as.Date(BeginDateTime))
demographics <- read.csv('../../data/processed/neighborhood-demographics.csv', stringsAsFactors = FALSE)
setwd("~/data-science-projects/police-stops/src/models")
incidents <- read.csv('../../data/processed/master-incidents.csv', stringsAsFactors = FALSE) %>%
mutate(Date = as.Date(BeginDateTime))
demographics <- read.csv('../../data/processed/neighborhood-demographics.csv', stringsAsFactors = FALSE)
weather <- read.csv('../../data/processed/cleaned-weather.csv', stringsAsFactors = FALSE) %>%
mutate(Date = as.Date(Date))
dailyIncidents <- incidents %>%
count(Date) %>%
rename(Incidents=n)
#### Daily mean model ####
n <- nrow(dailyIncidents)
y <- dailyIncidents$Incidents
data <- list('n', 'y')
inits <- function() {
list(sigma.y = runif(1), mu = rnorm(1))
}
parameters <- c('mu', 'sigma.y')
run1 <- bugs(data, inits, parameters, 'mean-model.txt', working.directory='bugs-models/',
n.chains=3, n.iter=10)
run1 <- bugs(data, inits, parameters, 'mean-model.txt', working.directory='bugs-models/',
n.chains=3, n.iter=10)
?bugs
run1 <- bugs(data, inits, parameters, 'mean-model.txt', working.directory='bugs-models/',
saveExec='bugs-models/bugs-output/',  n.chains=3, n.iter=10)
run1 <- bugs(data, inits, parameters, 'mean-model.txt', working.directory='bugs-models/',
n.chains=3, n.iter=10)
plot(run1)
print(run1)
mean(y)
sd(y)
run1 <- bugs(data, inits, parameters, 'mean-model.txt', working.directory='bugs-models/',
n.chains=3, n.iter=10, bugs.seed=1)
plot(run1)
print(run1)
mean(y)
sd(y)
run1 <- bugs(data, inits, parameters, 'mean-model.txt', working.directory='bugs-models/',
n.chains=3, n.iter=1000, bugs.seed=1)
plot(run1)
print(run1)
mean(y)
sd(y)
